<h1>Create New Task</h1>

<div class="panel panel-default">
  <div class="panel-heading">New Task</div>
  <div class="panel-body">
    <form name="userForm" ng-submit="userForm.$valid && vm.onSubmit()" novalidate>
      <fieldset class="the-fieldset">
        <legend class="the-legend">Task Details</legend>
        <div class="form-group" ng-class="userForm.name.$dirty && userForm.name.$invalid ? 'has-error' : ''">
          <label for="status">Task Title </label>
          <input type="text" class="form-control" name="name" placeholder="Task Title" ng-model="vm.user.name" required />

          <div class="error-block" ng-show="userForm.name.$dirty && userForm.name.$invalid">
            <label class="control-label" ng-show="userForm.$invalid && userForm.name.$error.required">Task Title is required.</label>
            <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
            <span id="inputError2Status" class="sr-only">(error)</span>
          </div>
        </div>

        <div class="form-group has-feedback" ng-class="{ 'has-error': vm.submited }">
          <label for="status" class="control-label">Category</label>
          <select class="form-control" id="status" name="status" ng-model="vm.user.category" ng-options="category.name as category.name for category in vm.caterories" required></select>
          <div class="error-block" ng-show="vm.submited">
            <span id="inputError2Status" class="sr-only">(error)</span>
          </div>
        </div>
      </fieldset>

      <fieldset class="the-fieldset">
        <legend class="the-legend">Goal Details</legend>
        <div class="row">
          <div class="counter col-md-3 pull-left">
            <p class="counter-count" ng-model="vm.user.goal">{{vm.user.goal}}</p>
          </div>
          <div class="col-md-2 pull-right text-right">
            <button type="button" class="btn btn-default btn-number" ng-click="vm.onMinusClick()" data-type="minus" data-field="quant[1]">
                <span class="glyphicon glyphicon-minus"></span>
            </button>
            <button type="button" class="btn btn-default btn-number" ng-click="vm.onPlusClick()" data-type="plus" data-field="quant[1]">
                <span class="glyphicon glyphicon-plus"></span>
            </button>
          </div>
        </div>
      </fieldset>

      <fieldset class="the-fieldset">
        <legend class="the-legend">Difficulty Level</legend>
        <div class="form-group" ng-class="userForm.lastname.$dirty && userForm.lastname.$invalid ? 'has-error' : ''">
          <label for="status">Level</label>
          <input type="number" min="1" max="10" class="form-control" name="difficulty" placeholder="Level" ng-model="vm.user.difficulty" required>
          <div class="error-block" ng-show="userForm.difficulty.$dirty && userForm.difficulty.$invalid">
            <label class="control-label" ng-show="userForm.difficulty.$error.required">Difficulty level is required</label>
            <span class="glyphicon glyphicon-remove form-control-feedback" aria-hidden="true"></span>
            <span id="inputError2Status" class="sr-only">(error)</span>
          </div>
        </div>
      </fieldset>

      <div class="clearfix"><br/></div>
      <button type="submit" id="submit" name="submit" class="btn btn-primary pull-right" ng-class="userForm.$valid ? '' : 'disabled'">Submit Form</button>
    </form>
  </div>
  <div class="panel-footer">
    <!--<pre>{{ vm.user | json}}</pre>-->
    <div class="alert alert-info">
      <strong>Info!</strong> The easier (lower number), the goal will be display at the top.
    </div>
  </div>
</div>